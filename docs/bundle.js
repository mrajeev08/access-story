!function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){(function(e){var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,i=/^0o[0-7]+$/i,o=parseInt,d="object"==typeof e&&e&&e.Object===Object&&e,s="object"==typeof self&&self&&self.Object===Object&&self,c=d||s||Function("return this")(),u=Object.prototype.toString,l=Math.max,f=Math.min,p=function(){return c.Date.now()};function g(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function h(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==u.call(t)}(t))return NaN;if(g(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=g(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(n,"");var d=a.test(t);return d||i.test(t)?o(t.slice(2),d?2:8):r.test(t)?NaN:+t}t.exports=function(t,e,n){var r,a,i,o,d,s,c=0,u=!1,b=!1,m=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var n=r,i=a;return r=a=void 0,c=e,o=t.apply(i,n)}function v(t){return c=t,d=setTimeout(x,e),u?y(t):o}function w(t){var n=t-s;return void 0===s||n>=e||n<0||b&&t-c>=i}function x(){var t=p();if(w(t))return j(t);d=setTimeout(x,function(t){var n=e-(t-s);return b?f(n,i-(t-c)):n}(t))}function j(t){return d=void 0,m&&r?y(t):(r=a=void 0,o)}function O(){var t=p(),n=w(t);if(r=arguments,a=this,s=t,n){if(void 0===d)return v(s);if(b)return d=setTimeout(x,e),y(s)}return void 0===d&&(d=setTimeout(x,e)),o}return e=h(e)||0,g(n)&&(u=!!n.leading,i=(b="maxWait"in n)?l(h(n.maxWait)||0,e):i,m="trailing"in n?!!n.trailing:m),O.cancel=function(){void 0!==d&&clearTimeout(d),c=0,r=s=a=d=void 0},O.flush=function(){return void 0===d?o:j(p())},O}}).call(this,n(1))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r);const i={android:()=>navigator.userAgent.match(/Android/i),blackberry:()=>navigator.userAgent.match(/BlackBerry/i),ios:()=>navigator.userAgent.match(/iPhone|iPad|iPod/i),opera:()=>navigator.userAgent.match(/Opera Mini/i),windows:()=>navigator.userAgent.match(/IEMobile/i),any:()=>i.android()||i.blackberry()||i.ios()||i.opera()||i.windows()};var o=i;function d(){(function(t,e=document){return[...e.querySelectorAll(t)]})("[target='_blank']").forEach(t=>t.setAttribute("rel","noopener"))}d3.select("body");var s={resize:function(){},init:async function(){const t=await d3.json("assets/data/countries.json"),e=await d3.json("assets/data/garc_data.json");let n={};e.forEach(t=>{n[t.iso]=+t.deaths||0});let r={width:.9*window.innerWidth,margin:{top:10,right:10,bottom:10,left:10}};r.boundedWidth=r.width-r.margin.left-r.margin.right;const a={type:"Sphere"},i=d3.geoEckert3().fitWidth(r.boundedWidth,a),o=d3.geoPath(i),[[d,s],[c,u]]=o.bounds(a);r.boundedHeight=u,r.height=r.boundedHeight+r.margin.top+r.margin.bottom;const l=d3.select("#worldmap").append("svg").attr("width",r.width).attr("height",r.height),f=l.append("g").style("transform",`translate(${r.margin.left}px, ${r.margin.top}px)`),p=Object.values(n),g=d3.extent(p),h=d3.max([g[0],g[1]]),b=d3.scaleLinear().domain([0,h]).range(["#EEEEEE","darkred"]),m=(f.selectAll(".country").data(t.features).enter().append("path").attr("class","country").attr("d",o).attr("stroke-width",.1).attr("fill",t=>{const e=n[(t=>t.properties.adm0_a3)(t)];return void 0===e?"#e2e6e9":b(e)}),l.append("g").attr("transform",`translate(120,${r.width<800?r.boundedHeight-30:.5*r.boundedHeight})`));m.append("text").attr("y",-23).attr("class","legend-title").text("Burden of human rabies"),m.append("text").attr("y",-9).attr("class","legend-byline").text("Deaths per 100,000 persons in 2010"),l.append("defs").append("linearGradient").attr("id","legend-gradient").selectAll("stop").data(b.range()).enter().append("stop").attr("stop-color",t=>t).attr("offset",(t,e)=>""+100*e/2),m.append("rect").attr("x",-60).attr("height",16).attr("width",120).style("fill","url(#legend-gradient)"),m.append("text").attr("class","legend-value").attr("x",70).attr("y",8).text(""+d3.format(".1f")(h)),m.append("text").attr("class","legend-value").attr("x",-70).attr("y",8).text(""+d3.format(".1f")(0)).style("text-anchor","end")}};var c={resize:function(){},init:async function(){const t=await d3.json("assets/data/mada_districts.geojson"),e=await d3.json("assets/data/ctar_pts.geojson");let n={width:.9*window.innerWidth,margin:{top:10,right:10,bottom:10,left:10}};n.boundedWidth=n.width-n.margin.left-n.margin.right;const r=d3.geoMercator().center([42,-17]).scale(100),a=d3.geoPath(r),[[i,o],[d,s]]=a.bounds({type:"Sphere"});n.boundedHeight=s,n.height=n.boundedHeight+n.margin.top+n.margin.bottom,r.fitSize([n.boundedWidth,n.boundedHeight],t);const c=d3.select("#madamap").append("svg").attr("width",n.width).attr("height",n.height);c.append("g").style("transform",`translate(${n.margin.left}px, ${n.margin.top}px)`).selectAll(".country").data(t.features).enter().append("path").attr("class","country").attr("d",a).attr("stroke-width",.1).attr("fill","grey"),c.selectAll("circle").data(e.features).enter().append("circle").each((function(t){t.p1=r(t.geometry.coordinates)})).attr("cx",(function(t){return t.p1[0]})).attr("cy",(function(t){return t.p1[1]})).attr("r","2px").attr("fill","darkred")}};const u=d3.select("body");let l=0;function f(){const t=u.node().offsetWidth;l!==t&&(l=t,s.resize(),c.resize())}d(),u.classed("is-mobile",o.any()),window.addEventListener("resize",a()(f,150)),s.init(),c.init()}]);